!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);class i{constructor(e){this.id=e,this.x=e%10,this.y=Math.floor(e/10),this.hited=!1}}class r{constructor(e){this.positions=[],this.id=e}get length(){return this.positions.length}hit(e){this.positions.forEach(t=>{t.id===e&&(t.hited=!0)})}hitXY(e,t){this.positions.forEach(n=>{n.x===e&&n.y===t&&(n.hited=!0)})}isSunk(){return 0!==this.positions.length&&this.positions.every(e=>e.hited)}addPosition(e){this.positions.push(new i(e))}}class s{constructor(){this.ships=[],this.grid=new Array(101).fill(null),this.counter=1}placeShip(e,t){let n=[...e],i=new r(this.counter+=1),s=n[0]===t[0]?1:0;for(;n[s]<=t[s];){let e=10*n[0===s?s:0]+n[1===s?s:1];i.addPosition(e),this.grid[e]=i.id,n[s]+=1}this.ships.push(i)}receiveAttack(e,t){let n=10*e+t;return"X"!==this.grid[n]&&"Y"!==this.grid[n]&&(this.grid[n]?(this.ships.find(e=>e.id===this.grid[n]).hit(n),this.grid[n]="Y"):this.grid[n]="X",!0)}allSunk(){return 0!==this.ships.length&&this.ships.every(e=>e.isSunk())}}class o{constructor(e,t=!1){this.ai=t,this.gameboard=e}}var d=(()=>{let e;const t=e=>{document.getElementById("message").innerHTML=e};return{preRender:()=>{document.getElementById("content").innerHTML='\n    <div class="container-fluid bg-dark text-white text-center">\n      <div class="container">\n        <div class="row">\n          <div class="col-12 py-3">\n            <h1>Battleship</h1>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="container">\n      <div class="row">\n        <div class="col-md-6">\n            <h2> Your Board </h2>\n            <div class="boxcontainer" id="first"></div>\n        </div>\n        <div class="col-md-6">\n            <h2> Not your board </h2>\n            <div class="boxcontainer" id="second"></div>\n        </div>\n        <div class="col-12 text-center mt-2">\n          <h3 id="message"></h3>\n        </div>\n      </div>\n    </div>\n    '},render:(n,i=!1)=>{let r=document.getElementById(n.gameboardName),s="";for(let e=1;e<=100;e++){let t=n.gameboard.grid[e],i=t&&"X"!==t&&!n.ai?["ship"]:[];t&&"Y"===t&&i.push("ship-border"),s+=`\n      <div id="${n.gameboardName}-position-${e}"\n           class="${i.join(" ")}">\n        ${"X"===t||"Y"===t?"X":""}\n      </div>`}if(r.innerHTML=s,t(`${n.ai?"Computer's":"your"} turn`),!i)for(let t=1;t<=100;t++)document.getElementById(`${n.gameboardName}-position-${t}`).addEventListener("click",t=>e.handleClick(t))},setController:t=>{e=t},winnerMessage:e=>{t(`${e.ai?"AI is":"You are"} the winner!!!`)}}})();var a=(()=>{let e,t=[],n=!0;const i=(e=!0)=>t[n?e?0:1:e?1:0],r=(t,r=null)=>{let o;o=r||parseInt(t.target.id.split("-")[2]),i(!1).gameboard.receiveAttack(Math.floor(o/10),o%10)&&(e.render(i(),i(!1).ai),e.render(i(!1),!0),n=!n,i().gameboard.allSunk()?(e.render(i(),!0),e.render(i(!1),!0),e.winnerMessage(i(!1))):i().ai&&s(i(!1)))},s=e=>{let t=[];e.gameboard.grid.forEach((e,n)=>{"X"===e&&"Y"===e||t.push(n)}),0===t[0]&&t.shift(),setTimeout(()=>{r(!1,t[Math.floor(Math.random()*t.length)])},2e3)};return{setUp:(n,i,r)=>{e=n,t[0]=i,t[1]=r},handleClick:r}})();d.setController(a),d.preRender();let l=[[[1,2],[1,2]],[[0,8],[0,8]],[[8,2],[8,2]],[[8,8],[8,8]],[[5,2],[6,2]],[[4,4],[4,5]],[[3,1],[3,3]],[[2,4],[2,6]],[[2,9],[4,9]],[[6,4],[6,8]]],c=new o(new s);c.gameboardName="first",l.forEach(e=>{c.gameboard.placeShip(e[0],e[1])});let h=new o(new s,!0);h.gameboardName="second",l.forEach(e=>{h.gameboard.placeShip(e[0],e[1])}),d.render(h),d.render(c,!0),a.setUp(d,c,h)}]);