!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);class i{constructor(e){this.id=e,this.x=e%10,this.y=Math.floor(e/10),this.hited=!1}}class r{constructor(e){this.positions=[],this.id=e}get length(){return this.positions.length}hit(e){this.positions.forEach(t=>{t.id===e&&(t.hited=!0)})}hitXY(e,t){this.positions.forEach(n=>{n.x===e&&n.y===t&&(n.hited=!0)})}isSunk(){return this.positions.every(e=>e.hited)}addPosition(e){this.positions.push(new i(e))}}class o{constructor(){this.ships=[],this.grid=new Array(101).fill(null),this.counter=1}placeShip(e,t){let n=new r(this.counter+=1),i=e[0]===t[0]?1:0;for(;e[i]<=t[i];){let t=10*e[0===i?i:0]+e[1===i?i:1]+1;n.addPosition(t),this.grid[t]=n.id,e[i]+=1}this.ships.push(n)}receiveAttack(e,t){let n=10*e+t;return"X"!==this.grid[n]&&(this.grid[n]&&this.ships.find(e=>e.id===this.grid[n]).hit(n),this.grid[n]="X",!0)}allSunk(){return 0!==this.ships.length&&this.ships.every(e=>e.isSunk())}}class s{constructor(e,t=!1){this.ai=t,this.gameboard=e}}var d=(()=>{let e;return{preRender:()=>{document.getElementById("content").innerHTML='\n    <div class="container-fluid bg-dark text-white text-center">\n      <div class="container">\n        <div class="row">\n          <div class="col-12 py-3">\n            <h1>Battleship</h1>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="container">\n      <div class="row">\n        <div class="col-md-6">\n            <h2> Your Board </h2>\n            <div class="boxcontainer" id="first"></div>\n        </div>\n        <div class="col-md-6">\n            <h2> Not your board </h2>\n            <div class="boxcontainer" id="second"></div>\n        </div>\n        <div class="col-12 text-center mt-2">\n          <h3 id="message"></h3>\n        </div>\n      </div>\n    </div>\n    '},render:(t,n=!1)=>{let i=document.getElementById("message"),r=document.getElementById(t.gameboardName),o="";for(let e=1;e<=100;e++){let n=t.gameboard.grid[e];o+=`\n      <div id="${t.gameboardName}-position-${e}" class="${n&&"X"!==n?"ship":""}">\n        ${"X"===t.gameboard.grid[e]?"X":""}\n      </div>`}if(r.innerHTML=o,i.innerHTML=`${t.ia?"Computer's":"your"} turn`,!n){console.log(n);for(let n=1;n<=100;n++)document.getElementById(`${t.gameboardName}-position-${n}`).addEventListener("click",t=>e.handleClick(t))}},setController:t=>{e=t}}})();var a=(()=>{let e,t=[],n=!0;const i=(i,o=null)=>{let s;o?(s=o,console.log(i),console.log(s)):(s=parseInt(i.target.id.split("-")[2]),console.log(s)),t[n?1:0].gameboard.receiveAttack(Math.floor(s/10),s%10)&&(n=!n,e.render(t[n?1:0]),e.render(t[n?0:1],!0),t[n?0:1].ai&&r(t[n?1:0]))},r=e=>{let t=[];e.gameboard.grid.forEach((e,n)=>{"X"!==e&&t.push(n)}),t.shift(),console.log(t),setTimeout(()=>{i(!1,t[Math.floor(Math.random()*t.length)])},2e3)};return{setUp:(n,i,r)=>{e=n,t[0]=i,t[1]=r},handleClick:i}})();d.setController(a),d.preRender();let l=[[[1,2],[1,2]],[[0,8],[0,8]],[[8,2],[8,2]],[[8,8],[8,8]],[[5,2],[6,2]],[[4,4],[4,5]],[[3,0],[3,2]],[[2,4],[2,6]],[[2,9],[4,9]],[[6,4],[6,8]]],c=new s(new o);c.gameboardName="first",l.forEach(e=>{c.gameboard.placeShip(e[0],e[1])});let h=new s(new o,!0);h.gameboardName="second",l.forEach(e=>{h.gameboard.placeShip(e[0],e[1])}),d.render(h),d.render(c,!0),a.setUp(d,c,h)}]);