!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(2),t.exports=n(1)},function(t,e,n){},function(t,e,n){"use strict";n.r(e);(()=>{let t;const e=t=>{document.getElementById("message").innerHTML=t}})();(()=>{let t,e=[],n=!0;const i=(t=!0)=>e[n?t?0:1:t?1:0],r=(e,r=null)=>{let s,a=!1;s=r||parseInt(e.target.id.split("-")[2]),i(!1).gameboard.validAttack(Math.floor(s/10),s%10)&&(i(!1).gameboard.receiveAttack(Math.floor(s/10),s%10)?(t.render(i(),i(!1).ai),t.render(i(!1)),t.turnMessage(i()),a=s):(t.render(i(),i(!1).ai),t.render(i(!1),!0),n=!n,t.turnMessage(i())),i().gameboard.allSunk()?(t.render(i(),!0),t.render(i(!1),!0),t.winnerMessage(i(!1))):i().ai&&o(i(!1),a))},o=(t,e)=>{let n=[];t.gameboard.grid.forEach((t,e)=>{"X"!==t&&"Y"!==t&&n.push(e)}),0===n[0]&&n.shift();let i=[];e&&(e%10!=1&&i.push(e-1),e%10!=0&&i.push(e+1),i.push(e+10),i.push(e-10),i=i.filter(t=>n.includes(t)));let o=n[Math.floor(Math.random()*n.length)];i.length>0&&(o=i[Math.floor(Math.random()*i.length)]),setTimeout(()=>{r(!1,o)},2e3)}})();var i={preRender:()=>{document.getElementById("content").innerHTML='\n    <div class="container-fluid bg-dark text-white text-center">\n      <div class="container">\n        <div class="row">\n          <div class="col-12 py-3">\n            <h1>Battleship</h1>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="container">\n      <div class="row">\n        <div class="col-md-6">\n            <h2> Your Board </h2>\n            <p> Instructions </p>\n            <div class="boxcontainer" id="ini"></div>\n        </div>\n        <div class="col-12 text-center mt-2">\n          <h3 id="message"></h3>\n        </div>\n      </div>\n    </div>\n    '},render:(t,e,n)=>{let i=document.getElementById("ini"),r="";for(let e=1;e<=100;e++){let n=t[e]?["ship"]:[];t[e]&&t[e].first&&n.push("firstItem"),r+=`\n      <div id="position-${e}" class="${n.join(" ")}"\n      ${t[e]?'data-shipid="'+t[e].id+'"':""}\n\n       ${t[e]&&t[e].first?'draggable="true"':""}>\n      </div>`}i.innerHTML=r;for(let n=1;n<=100;n++)t[n]&&t[n].first&&document.getElementById(`position-${n}`).addEventListener("dragstart",t=>e(t));for(let e=1;e<=100;e++)t[e]||document.getElementById(`position-${e}`).addEventListener("drop",t=>n(t))}};var r=(()=>{let t=new Array(101).fill(null),e=0,n=[];const r=t=>{t.dataTransfer.setData("aid",parseInt(t.target.id.split("-")[1])),t.dataTransfer.setData("ship-id",parseInt(t.target.dataset.shipid))},o=e=>{let s=parseInt(e.target.id.split("-")[1]),a=parseInt(e.dataTransfer.getData("aid")),d=n.find(t=>t.id===parseInt(e.dataTransfer.getData("ship-id"))),l=s-a,p=d.positions.map(t=>{let e=t.position+l;return{id:t.id,first:t.first,position:e,startPosition:t.position}}),u=!0,c=[];p.forEach(e=>{e.position<1&&(u=!1),e.position>100&&(u=!1),t[e.position]&&(u=!1);let n=e.startPosition-1<10?0:Math.floor((e.startPosition-1)/10),i=e.position-1<10?0:Math.floor((e.position-1)/10);c.push([n,i])});let f=Math.floor(d.positions[0].position/10);if(d.positions.every(t=>Math.floor(t.position/10)===f)&&(c.every(t=>t[0]===c[0][0]&&t[1]===c[0][1])||(u=!1)),console.log(d),console.log(p),u){d.positions.forEach(e=>{t[e.position]=null});let e=[];p.forEach(n=>{let i={id:n.id,first:n.first,position:n.position};t[n.position]=i,e.push(i)}),d.positions=e}i.render(t,r,o),console.log(n)},s=(i,r)=>{let o=[...i];e+=1;let s=o[0]===r[0]?1:0,a=!0,d={id:e,positions:[]};for(;o[s]<=r[s];){let n=10*o[0===s?s:0]+o[1===s?s:1],i={id:e,first:a,position:n};t[n]=i,d.positions.push(i),a=!1,o[s]+=1}n.push(d)};return{setUp:e=>{i.preRender(),e.forEach(t=>{s(t[0],t[1])}),i.render(t,r,o)}}})();document.addEventListener("dragover",(function(t){t.preventDefault()}));r.setUp([[[1,2],[1,2]],[[0,8],[0,8]],[[8,2],[8,2]],[[8,8],[8,8]],[[5,2],[6,2]],[[4,4],[4,5]],[[3,1],[3,3]],[[2,4],[2,6]],[[2,9],[4,9]],[[6,4],[6,8]]])}]);